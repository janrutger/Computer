.name "test_rom"

# This is a comment line, it should be ignored.

def 10=NOP {
    set_cpu_state(FETCH) ; Set state to FETCH
}

def 11=HALT {
    set_cpu_state(HALT)
}

# An example of a multi-line routine with a label
def 22=JMP {
    :loop
    load_immediate(PC, 1) ; Assuming arg1 is the target address
    move_reg(R1, PC)
    bra(loop) ; An endless loop for testing
}


def 23=test {
    :loop
    load_immediate(Ra, $1)
    bra(loop)
}

def 24=test2 {
    bra(loop)
    load_immediate(Ra, $1)
    move_reg(R1, Ra)
    :loop
    set_cpu_state(FETCH)
}
